# Заметки

## QML-модули
- [ ] Можно сделать модуль для пары Label - TextField

## Исправление багов
- [ ] Исправить переключение read data вкл / выкл
- [ ] Вылетает в opengl при скролле или зуме
- [ ] Отключил openGl из-за плохой работы

## Вывод графика
- [x] Когда график открепляется от окна, нужно чтобы нажатие кнопки "**W**" закрывало окно
- [ ] Чисти точки до 10 сек
- [ ] Когда график открепляется от окна, изменять состояние stack таблицы
- [ ] Отрисовка вакуум с переходом на exp
- [x] Попробуй сделать график отдельным qml компонентом
## Мнемо схема
- [x] Собрать мнемосхему по чертежу
- [x] Перенес qml по категориям
- Удобно использовать states, SplitView, Sequential Animation
- [ ] Нужен указатель температуры

## Получение значений с датчиков
- [ ] ~~Нормировка и~~ **фильтрация**
## Обработка значений
- [x] Функция пересчета для ~~давления~~ и вакуума
- [ ] Запись значений в строке слайдера с переходом на exp
- [ ] Перед addAccumulationPoint нужно устанавиливать смещение времени по умолчанию

## Расчет проницаемости и диффузии
- [ ] Создать Q_PROPERTY для значений из интерфеса:
    - [ ] Слайдер диапазона выборки
    - [ ] Слайдер усреднения
    - [x] Пераметры мембраны
        - [x] Передаются через json но не все ещё. Какие добавить?
- [ ] Добавить на интерфейс Result значение Permeability и Diffusivity
- [ ] Пересчет диапазона значений проницаемости в Estimated permeability, начинать усреднять с момента steady state
- [ ] Сейчас J_inf берет тупо последнее значение в качестве опорного (может быть плохо, нужен тайминг для последнего отдельно)

## Логирование
- [ ] Добавь в SplitView элемент лога (не значений)
- [x] Выводи лог в текст с помощью класса (?)
- [x] Запускать логирование при включении чтения
- [x] Отмечать момент открытия клапана через сигнал от кнопки

## Эксперимент и параметры
- [ ] Нужна связка для датасет QMap<QString, ExpTable*> m_expDataSet и структуры expParameters
    - [ ] Сохраняется экземляр в json expParameters и связывается с файлом результатов (при накладывании n температур)
    - [x] Берет json с параметрами на интерфейс
- [x] Напиши передачу значений проницаемости?
- [ ] 9-18-begin Выдели цветом участки steadyStateStart, leakStart, leakEnd на графике
- [x] Сделай настойку параметров steadyStateStart, leakStart, leakEnd 
- [ ] Добавь маркировку размерности для thickness 
- [x] Фиксируем start / end exp и название для обозначения начала эксперимента (релятивное время эксперимента expTime)
    - [x] Обозначаю через mainwindow, но стартую в expCalc
    - [ ] В accumulationPoint будут добавляться точки со смещением expStart
- [x] Фиксируем время Leak start / end и steady state через Results в ExpCalc
- [ ] Используем Pass accum point для передачи точек в расчет с релятивным временем expTime
- [ ] Заранее подготовь JSON с параметрами мембраны и внешним объемом - перенеси возможность сохранения этого JSON
    - [ ] Чтобы подготовить json заранее нужно схранять через c++

## Результаты
- [x] Раздели результаты и параметры
- [x] Слайдер для изменения d_timelag

## Хранение данных
- [ ] Передавай flux и permeation из expcalc в ExpTable ?
- [ ] В ControllerData базовый, а для графиков (Shared) сделать с удалением 120 секунд
- [ ] Передавать Data указателем в customplotitem ?
    - [ ] 9-18-begin Брать время из полей значений контроллера и вставлять в поля для данных прониц. и дифф.
    - [ ] 9-18-begin Сделать dataset через создание новых exptable?
    - [ ] 9-18-begin Передавать данные в модель ExpTable через класс обработки показаний

## Два Датчика давления
- [x] Убрать модуль вакууметра
- [x] Заменить получение значений от котроллера (получать все и оставлять только первые два)
- [x] Убрать в интерфейсе про контроллер вакуума

## Автоматизация
- [ ] Система напоминания действия и переходов этапов расчета
